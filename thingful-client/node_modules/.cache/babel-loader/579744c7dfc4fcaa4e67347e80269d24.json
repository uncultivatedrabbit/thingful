{"ast":null,"code":"import config from '../config';\nimport TokenService from '../services/token-service';\nvar ThingApiService = {\n  getThings: function getThings() {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things\"), {\n      headers: {\n        'authorization': \"basic \".concat(TokenService.get)\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  getThing: function getThing(thingId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things/\").concat(thingId), {\n      headers: {}\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  getThingReviews: function getThingReviews(thingId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things/\").concat(thingId, \"/reviews\"), {\n      headers: {}\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  postReview: function postReview(thingId, text, rating) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/reviews\"), {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({\n        thing_id: thingId,\n        rating: rating,\n        text: text\n      })\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  }\n};\nexport default ThingApiService;","map":{"version":3,"sources":["C:\\Users\\uncul\\Desktop\\thingful\\thingful-client\\src\\services\\thing-api-service.js"],"names":["config","TokenService","ThingApiService","getThings","fetch","API_ENDPOINT","headers","get","then","res","ok","json","e","Promise","reject","getThing","thingId","getThingReviews","postReview","text","rating","method","body","JSON","stringify","thing_id"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEA,IAAMC,eAAe,GAAG;AACtBC,EAAAA,SADsB,uBACV;AACV,WAAOC,KAAK,WAAIJ,MAAM,CAACK,YAAX,cAAkC;AAC5CC,MAAAA,OAAO,EAAE;AACP,yCAA0BL,YAAY,CAACM,GAAvC;AADO;AADmC,KAAlC,CAAL,CAKJC,IALI,CAKC,UAAAC,GAAG;AAAA,aACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAAAI,CAAC;AAAA,eAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAJ;AAAA,OAAjB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAHG;AAAA,KALJ,CAAP;AAUD,GAZqB;AAatBI,EAAAA,QAbsB,oBAabC,OAba,EAaJ;AAChB,WAAOZ,KAAK,WAAIJ,MAAM,CAACK,YAAX,qBAAkCW,OAAlC,GAA6C;AACvDV,MAAAA,OAAO,EAAE;AAD8C,KAA7C,CAAL,CAIJE,IAJI,CAIC,UAAAC,GAAG;AAAA,aACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAAAI,CAAC;AAAA,eAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAJ;AAAA,OAAjB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAHG;AAAA,KAJJ,CAAP;AASD,GAvBqB;AAwBtBM,EAAAA,eAxBsB,2BAwBND,OAxBM,EAwBG;AACvB,WAAOZ,KAAK,WAAIJ,MAAM,CAACK,YAAX,qBAAkCW,OAAlC,eAAqD;AAC/DV,MAAAA,OAAO,EAAE;AADsD,KAArD,CAAL,CAIJE,IAJI,CAIC,UAAAC,GAAG;AAAA,aACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAAAI,CAAC;AAAA,eAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAJ;AAAA,OAAjB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAHG;AAAA,KAJJ,CAAP;AASD,GAlCqB;AAmCtBO,EAAAA,UAnCsB,sBAmCXF,OAnCW,EAmCFG,IAnCE,EAmCIC,MAnCJ,EAmCY;AAChC,WAAOhB,KAAK,WAAIJ,MAAM,CAACK,YAAX,eAAmC;AAC7CgB,MAAAA,MAAM,EAAE,MADqC;AAE7Cf,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFoC;AAK7CgB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,QAAQ,EAAET,OADS;AAEnBI,QAAAA,MAAM,EAANA,MAFmB;AAGnBD,QAAAA,IAAI,EAAJA;AAHmB,OAAf;AALuC,KAAnC,CAAL,CAWJX,IAXI,CAWC,UAAAC,GAAG;AAAA,aACN,CAACA,GAAG,CAACC,EAAN,GACID,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAAAI,CAAC;AAAA,eAAIC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAJ;AAAA,OAAjB,CADJ,GAEIH,GAAG,CAACE,IAAJ,EAHG;AAAA,KAXJ,CAAP;AAgBD;AApDqB,CAAxB;AAuDA,eAAeT,eAAf","sourcesContent":["import config from '../config'\r\nimport TokenService from '../services/token-service';\r\n\r\nconst ThingApiService = {\r\n  getThings() {\r\n    return fetch(`${config.API_ENDPOINT}/things`, {\r\n      headers: {\r\n        'authorization': `basic ${TokenService.get}`\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  getThing(thingId) {\r\n    return fetch(`${config.API_ENDPOINT}/things/${thingId}`, {\r\n      headers: {\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  getThingReviews(thingId) {\r\n    return fetch(`${config.API_ENDPOINT}/things/${thingId}/reviews`, {\r\n      headers: {\r\n      },\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  },\r\n  postReview(thingId, text, rating) {\r\n    return fetch(`${config.API_ENDPOINT}/reviews`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        thing_id: thingId,\r\n        rating,\r\n        text,\r\n      }),\r\n    })\r\n      .then(res =>\r\n        (!res.ok)\r\n          ? res.json().then(e => Promise.reject(e))\r\n          : res.json()\r\n      )\r\n  }\r\n}\r\n\r\nexport default ThingApiService\r\n"]},"metadata":{},"sourceType":"module"}