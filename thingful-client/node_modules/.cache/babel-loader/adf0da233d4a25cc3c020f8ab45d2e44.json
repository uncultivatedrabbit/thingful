{"ast":null,"code":"var compareDesc = require('../compare_desc/index.js');\n\nvar parse = require('../parse/index.js');\n\nvar differenceInSeconds = require('../difference_in_seconds/index.js');\n\nvar enLocale = require('../locale/en/index.js');\n\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_YEAR = 525600;\n/**\r\n * @category Common Helpers\r\n * @summary Return the distance between the given dates in words.\r\n *\r\n * @description\r\n * Return the distance between the given dates in words, using strict units.\r\n * This is like `distanceInWords`, but does not use helpers like 'almost', 'over',\r\n * 'less than' and the like.\r\n *\r\n * | Distance between dates | Result              |\r\n * |------------------------|---------------------|\r\n * | 0 ... 59 secs          | [0..59] seconds     |\r\n * | 1 ... 59 mins          | [1..59] minutes     |\r\n * | 1 ... 23 hrs           | [1..23] hours       |\r\n * | 1 ... 29 days          | [1..29] days        |\r\n * | 1 ... 11 months        | [1..11] months      |\r\n * | 1 ... N years          | [1..N]  years       |\r\n *\r\n * @param {Date|String|Number} dateToCompare - the date to compare with\r\n * @param {Date|String|Number} date - the other date\r\n * @param {Object} [options] - the object with options\r\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\r\n * @param {'s'|'m'|'h'|'d'|'M'|'Y'} [options.unit] - if specified, will force a unit\r\n * @param {'floor'|'ceil'|'round'} [options.partialMethod='floor'] - which way to round partial units\r\n * @param {Object} [options.locale=enLocale] - the locale object\r\n * @returns {String} the distance in words\r\n *\r\n * @example\r\n * // What is the distance between 2 July 2014 and 1 January 2015?\r\n * var result = distanceInWordsStrict(\r\n *   new Date(2014, 6, 2),\r\n *   new Date(2015, 0, 2)\r\n * )\r\n * //=> '6 months'\r\n *\r\n * @example\r\n * // What is the distance between 1 January 2015 00:00:15\r\n * // and 1 January 2015 00:00:00?\r\n * var result = distanceInWordsStrict(\r\n *   new Date(2015, 0, 1, 0, 0, 15),\r\n *   new Date(2015, 0, 1, 0, 0, 0),\r\n * )\r\n * //=> '15 seconds'\r\n *\r\n * @example\r\n * // What is the distance from 1 January 2016\r\n * // to 1 January 2015, with a suffix?\r\n * var result = distanceInWordsStrict(\r\n *   new Date(2016, 0, 1),\r\n *   new Date(2015, 0, 1),\r\n *   {addSuffix: true}\r\n * )\r\n * //=> '1 year ago'\r\n *\r\n * @example\r\n * // What is the distance from 1 January 2016\r\n * // to 1 January 2015, in minutes?\r\n * var result = distanceInWordsStrict(\r\n *   new Date(2016, 0, 1),\r\n *   new Date(2015, 0, 1),\r\n *   {unit: 'm'}\r\n * )\r\n * //=> '525600 minutes'\r\n *\r\n * @example\r\n * // What is the distance from 1 January 2016\r\n * // to 28 January 2015, in months, rounded up?\r\n * var result = distanceInWordsStrict(\r\n *   new Date(2015, 0, 28),\r\n *   new Date(2015, 0, 1),\r\n *   {unit: 'M', partialMethod: 'ceil'}\r\n * )\r\n * //=> '1 month'\r\n *\r\n * @example\r\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\r\n * var eoLocale = require('date-fns/locale/eo')\r\n * var result = distanceInWordsStrict(\r\n *   new Date(2016, 7, 1),\r\n *   new Date(2015, 0, 1),\r\n *   {locale: eoLocale}\r\n * )\r\n * //=> '1 jaro'\r\n */\n\nfunction distanceInWordsStrict(dirtyDateToCompare, dirtyDate, dirtyOptions) {\n  var options = dirtyOptions || {};\n  var comparison = compareDesc(dirtyDateToCompare, dirtyDate);\n  var locale = options.locale;\n  var localize = enLocale.distanceInWords.localize;\n\n  if (locale && locale.distanceInWords && locale.distanceInWords.localize) {\n    localize = locale.distanceInWords.localize;\n  }\n\n  var localizeOptions = {\n    addSuffix: Boolean(options.addSuffix),\n    comparison: comparison\n  };\n  var dateLeft, dateRight;\n\n  if (comparison > 0) {\n    dateLeft = parse(dirtyDateToCompare);\n    dateRight = parse(dirtyDate);\n  } else {\n    dateLeft = parse(dirtyDate);\n    dateRight = parse(dirtyDateToCompare);\n  }\n\n  var unit;\n  var mathPartial = Math[options.partialMethod ? String(options.partialMethod) : 'floor'];\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offset = dateRight.getTimezoneOffset() - dateLeft.getTimezoneOffset();\n  var minutes = mathPartial(seconds / 60) - offset;\n  var hours, days, months, years;\n\n  if (options.unit) {\n    unit = String(options.unit);\n  } else {\n    if (minutes < 1) {\n      unit = 's';\n    } else if (minutes < 60) {\n      unit = 'm';\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'h';\n    } else if (minutes < MINUTES_IN_MONTH) {\n      unit = 'd';\n    } else if (minutes < MINUTES_IN_YEAR) {\n      unit = 'M';\n    } else {\n      unit = 'Y';\n    }\n  } // 0 up to 60 seconds\n\n\n  if (unit === 's') {\n    return localize('xSeconds', seconds, localizeOptions); // 1 up to 60 mins\n  } else if (unit === 'm') {\n    return localize('xMinutes', minutes, localizeOptions); // 1 up to 24 hours\n  } else if (unit === 'h') {\n    hours = mathPartial(minutes / 60);\n    return localize('xHours', hours, localizeOptions); // 1 up to 30 days\n  } else if (unit === 'd') {\n    days = mathPartial(minutes / MINUTES_IN_DAY);\n    return localize('xDays', days, localizeOptions); // 1 up to 12 months\n  } else if (unit === 'M') {\n    months = mathPartial(minutes / MINUTES_IN_MONTH);\n    return localize('xMonths', months, localizeOptions); // 1 year up to max Date\n  } else if (unit === 'Y') {\n    years = mathPartial(minutes / MINUTES_IN_YEAR);\n    return localize('xYears', years, localizeOptions);\n  }\n\n  throw new Error('Unknown unit: ' + unit);\n}\n\nmodule.exports = distanceInWordsStrict;","map":null,"metadata":{},"sourceType":"script"}