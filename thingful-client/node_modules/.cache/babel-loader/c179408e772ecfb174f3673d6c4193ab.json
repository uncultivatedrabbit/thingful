{"ast":null,"code":"import config from \"../config\";\nimport TokenService from \"../services/token-service\";\nvar ThingApiService = {\n  getThings: function getThings() {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things\"), {\n      headers: {\n        authorization: \"basic \".concat(TokenService.getAuthToken())\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  getThing: function getThing(thingId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things/\").concat(thingId), {\n      headers: {\n        authorization: \"basic \".concat(TokenService.getAuthToken())\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  getThingReviews: function getThingReviews(thingId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things/\").concat(thingId, \"/reviews\"), {\n      headers: {\n        authorization: \"basic \".concat(TokenService.getAuthToken())\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  postReview: function postReview(thingId, text, rating) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/reviews\"), {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        thing_id: thingId,\n        rating: rating,\n        text: text\n      })\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  }\n};\nexport default ThingApiService;","map":{"version":3,"sources":["C:\\Users\\uncul\\Desktop\\thingful\\thingful-client\\src\\services\\thing-api-service.js"],"names":["config","TokenService","ThingApiService","getThings","fetch","API_ENDPOINT","headers","authorization","getAuthToken","then","res","ok","json","e","Promise","reject","getThing","thingId","getThingReviews","postReview","text","rating","method","body","JSON","stringify","thing_id"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEA,IAAMC,eAAe,GAAG;AACtBC,EAAAA,SADsB,uBACV;AACV,WAAOC,KAAK,WAAIJ,MAAM,CAACK,YAAX,cAAkC;AAC5CC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,kBAAWN,YAAY,CAACO,YAAb,EAAX;AADN;AADmC,KAAlC,CAAL,CAIJC,IAJI,CAIC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KAJD,CAAP;AAOD,GATqB;AAUtBI,EAAAA,QAVsB,oBAUbC,OAVa,EAUJ;AAChB,WAAOb,KAAK,WAAIJ,MAAM,CAACK,YAAX,qBAAkCY,OAAlC,GAA6C;AACvDX,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,kBAAWN,YAAY,CAACO,YAAb,EAAX;AADN;AAD8C,KAA7C,CAAL,CAIJC,IAJI,CAIC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KAJD,CAAP;AAOD,GAlBqB;AAmBtBM,EAAAA,eAnBsB,2BAmBND,OAnBM,EAmBG;AACvB,WAAOb,KAAK,WAAIJ,MAAM,CAACK,YAAX,qBAAkCY,OAAlC,eAAqD;AAC/DX,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,kBAAWN,YAAY,CAACO,YAAb,EAAX;AADN;AADsD,KAArD,CAAL,CAIJC,IAJI,CAIC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KAJD,CAAP;AAOD,GA3BqB;AA4BtBO,EAAAA,UA5BsB,sBA4BXF,OA5BW,EA4BFG,IA5BE,EA4BIC,MA5BJ,EA4BY;AAChC,WAAOjB,KAAK,WAAIJ,MAAM,CAACK,YAAX,eAAmC;AAC7CiB,MAAAA,MAAM,EAAE,MADqC;AAE7ChB,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAFoC;AAK7CiB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,QAAQ,EAAET,OADS;AAEnBI,QAAAA,MAAM,EAANA,MAFmB;AAGnBD,QAAAA,IAAI,EAAJA;AAHmB,OAAf;AALuC,KAAnC,CAAL,CAUJX,IAVI,CAUC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KAVD,CAAP;AAaD;AA1CqB,CAAxB;AA6CA,eAAeV,eAAf","sourcesContent":["import config from \"../config\";\r\nimport TokenService from \"../services/token-service\";\r\n\r\nconst ThingApiService = {\r\n  getThings() {\r\n    return fetch(`${config.API_ENDPOINT}/things`, {\r\n      headers: {\r\n        authorization: `basic ${TokenService.getAuthToken()}`,\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n  getThing(thingId) {\r\n    return fetch(`${config.API_ENDPOINT}/things/${thingId}`, {\r\n      headers: {\r\n        authorization: `basic ${TokenService.getAuthToken()}`,\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n  getThingReviews(thingId) {\r\n    return fetch(`${config.API_ENDPOINT}/things/${thingId}/reviews`, {\r\n      headers: {\r\n        authorization: `basic ${TokenService.getAuthToken()}`,\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n  postReview(thingId, text, rating) {\r\n    return fetch(`${config.API_ENDPOINT}/reviews`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        thing_id: thingId,\r\n        rating,\r\n        text,\r\n      }),\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n};\r\n\r\nexport default ThingApiService;\r\n"]},"metadata":{},"sourceType":"module"}