{"ast":null,"code":"import config from \"../config\";\nimport TokenService from \"../services/token-service\";\nvar ThingApiService = {\n  getThings: function getThings() {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things\"), {\n      headers: {// doesn't need auth token because it's a public endpoint\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  getThing: function getThing(thingId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things/\").concat(thingId), {\n      headers: {\n        // auth token required for /things/:id\n        authorization: \"basic \".concat(TokenService.getAuthToken())\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  getThingReviews: function getThingReviews(thingId) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/things/\").concat(thingId, \"/reviews\"), {\n      headers: {\n        // auth token required for /things/:id/reviews\n        authorization: \"basic \".concat(TokenService.getAuthToken())\n      }\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  },\n  postReview: function postReview(thingId, text, rating) {\n    return fetch(\"\".concat(config.API_ENDPOINT, \"/reviews\"), {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        // auth token required for POSTing reviews to /reviews\n        'authorization': \"basic \".concat(TokenService.getAuthToken())\n      },\n      body: JSON.stringify({\n        thing_id: thingId,\n        rating: rating,\n        text: text\n      })\n    }).then(function (res) {\n      return !res.ok ? res.json().then(function (e) {\n        return Promise.reject(e);\n      }) : res.json();\n    });\n  }\n};\nexport default ThingApiService;","map":{"version":3,"sources":["C:\\Users\\uncul\\OneDrive\\Desktop\\encryption-thingful\\thingful\\thingful-client\\src\\services\\thing-api-service.js"],"names":["config","TokenService","ThingApiService","getThings","fetch","API_ENDPOINT","headers","then","res","ok","json","e","Promise","reject","getThing","thingId","authorization","getAuthToken","getThingReviews","postReview","text","rating","method","body","JSON","stringify","thing_id"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AAEA,IAAMC,eAAe,GAAG;AACtBC,EAAAA,SADsB,uBACV;AACV,WAAOC,KAAK,WAAIJ,MAAM,CAACK,YAAX,cAAkC;AAC5CC,MAAAA,OAAO,EAAE,CACR;AADQ;AADmC,KAAlC,CAAL,CAIJC,IAJI,CAIC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KAJD,CAAP;AAOD,GATqB;AAUtBI,EAAAA,QAVsB,oBAUbC,OAVa,EAUJ;AAChB,WAAOX,KAAK,WAAIJ,MAAM,CAACK,YAAX,qBAAkCU,OAAlC,GAA6C;AACvDT,MAAAA,OAAO,EAAE;AACP;AACAU,QAAAA,aAAa,kBAAWf,YAAY,CAACgB,YAAb,EAAX;AAFN;AAD8C,KAA7C,CAAL,CAKJV,IALI,CAKC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KALD,CAAP;AAQD,GAnBqB;AAoBtBQ,EAAAA,eApBsB,2BAoBNH,OApBM,EAoBG;AACvB,WAAOX,KAAK,WAAIJ,MAAM,CAACK,YAAX,qBAAkCU,OAAlC,eAAqD;AAC/DT,MAAAA,OAAO,EAAE;AACP;AACAU,QAAAA,aAAa,kBAAWf,YAAY,CAACgB,YAAb,EAAX;AAFN;AADsD,KAArD,CAAL,CAKJV,IALI,CAKC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KALD,CAAP;AAQD,GA7BqB;AA8BtBS,EAAAA,UA9BsB,sBA8BXJ,OA9BW,EA8BFK,IA9BE,EA8BIC,MA9BJ,EA8BY;AAChC,WAAOjB,KAAK,WAAIJ,MAAM,CAACK,YAAX,eAAmC;AAC7CiB,MAAAA,MAAM,EAAE,MADqC;AAE7ChB,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP;AACA,yCAA0BL,YAAY,CAACgB,YAAb,EAA1B;AAHO,OAFoC;AAO7CM,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,QAAQ,EAAEX,OADS;AAEnBM,QAAAA,MAAM,EAANA,MAFmB;AAGnBD,QAAAA,IAAI,EAAJA;AAHmB,OAAf;AAPuC,KAAnC,CAAL,CAYJb,IAZI,CAYC,UAACC,GAAD;AAAA,aACN,CAACA,GAAG,CAACC,EAAL,GAAUD,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,UAACI,CAAD;AAAA,eAAOC,OAAO,CAACC,MAAR,CAAeF,CAAf,CAAP;AAAA,OAAhB,CAAV,GAAsDH,GAAG,CAACE,IAAJ,EADhD;AAAA,KAZD,CAAP;AAeD;AA9CqB,CAAxB;AAiDA,eAAeR,eAAf","sourcesContent":["import config from \"../config\";\r\nimport TokenService from \"../services/token-service\";\r\n\r\nconst ThingApiService = {\r\n  getThings() {\r\n    return fetch(`${config.API_ENDPOINT}/things`, {\r\n      headers: {\r\n       // doesn't need auth token because it's a public endpoint\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n  getThing(thingId) {\r\n    return fetch(`${config.API_ENDPOINT}/things/${thingId}`, {\r\n      headers: {\r\n        // auth token required for /things/:id\r\n        authorization: `basic ${TokenService.getAuthToken()}`,\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n  getThingReviews(thingId) {\r\n    return fetch(`${config.API_ENDPOINT}/things/${thingId}/reviews`, {\r\n      headers: {\r\n        // auth token required for /things/:id/reviews\r\n        authorization: `basic ${TokenService.getAuthToken()}`,\r\n      },\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n  postReview(thingId, text, rating) {\r\n    return fetch(`${config.API_ENDPOINT}/reviews`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n        // auth token required for POSTing reviews to /reviews\r\n        'authorization': `basic ${TokenService.getAuthToken()}`\r\n      },\r\n      body: JSON.stringify({\r\n        thing_id: thingId,\r\n        rating,\r\n        text,\r\n      }),\r\n    }).then((res) =>\r\n      !res.ok ? res.json().then((e) => Promise.reject(e)) : res.json()\r\n    );\r\n  },\r\n};\r\n\r\nexport default ThingApiService;\r\n"]},"metadata":{},"sourceType":"module"}